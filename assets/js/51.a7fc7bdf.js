(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{368:function(a,s,e){"use strict";e.r(s);var t=e(7),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"使用-docker-部署-halo-和-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-部署-halo-和-mysql"}},[a._v("#")]),a._v(" 使用 Docker 部署 Halo 和 MySQL")]),a._v(" "),s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("p",[a._v("该章节我们将分三种情况为您说明该如何同时使用 Docker + MySQL 来部署 Halo")]),a._v(" "),s("p",[a._v("前提条件： 我们默认您的机器上已经安装好 "),s("code",[a._v("Docker")])]),a._v(" "),s("ul",[s("li",[a._v("如果你想完全通过 "),s("code",[a._v("Docker")]),a._v(" 运行 "),s("code",[a._v("MySQL")]),a._v(" 和 "),s("code",[a._v("Halo")])]),a._v(" "),s("li",[a._v("如果你已经有 "),s("code",[a._v("Docker")]),a._v("部署的 "),s("code",[a._v("MySQL")]),a._v("，想安装 "),s("code",[a._v("Halo")]),a._v(" 请参考小节《MySQL 部署在 Docker 如何使用 Docker 安装 Halo》")]),a._v(" "),s("li",[a._v("如果你已有 "),s("code",[a._v("MySQL")]),a._v(" 但部署在宿主机，想通过 "),s("code",[a._v("Docker")]),a._v(" 安装 "),s("code",[a._v("Halo")]),a._v(" 请参考小节《MySQL 在宿主机如何通过 Docker 安装 Halo》")])]),a._v(" "),s("h3",{attrs:{id:"_1、统一使用-docker-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、统一使用-docker-安装"}},[a._v("#")]),a._v(" 1、统一使用 Docker 安装")]),a._v(" "),s("p",[a._v("如果你的机器上没有现成的 "),s("code",[a._v("MySQL")]),a._v(" 可供使用，那么您可以选择使用 "),s("code",[a._v("Docker")]),a._v(" 来运行 "),s("code",[a._v("MySQL")]),a._v(" 和 "),s("code",[a._v("Halo")])]),a._v(" "),s("ol",[s("li",[a._v("创建 Docker 自定义桥接网络")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" network create halo-net\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("##### TIP\n\n如果你之前有 Docker 使用经验，你可能已经习惯了使用 `--link` 参数来使容器互联。\n\n但随着 Docker 网络的完善，强烈建议大家将容器加入自定义的 Docker 网络来连接多个容器，而不是使用 --link 参数。 Docker 官方文档中称：该--link 标志是 Docker 的遗留功能。它可能最终会被删除。除非您确定需要继续使用它，否则我们建议您使用用户定义的网络来促进两个容器之间的通信，而不是使用 --link。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("2、拉取 "),s("code",[a._v("MySQL")]),a._v(" 镜像")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mysql:8.0.27\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("3、创建 "),s("code",[a._v("MySQL")]),a._v(" 数据目录")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" ~/.halo/mysql\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("4、启动 "),s("code",[a._v("MySQL")]),a._v(" 实例")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" some-mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/.halo/mysql:/var/lib/mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("my-secret-pw "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),a._v(" halo-net "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" mysql:8.0.27\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意: 请将 "),s("code",[a._v("my-secret-pw")]),a._v(" 修改为自己需要的密码后再执行，密码尽量包含小写字母、大写字母、数字和特殊字符且长度超过 8 位。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("释意\n\n-e MYSQL_ROOT_PASSWORD=my-secret-pw: 指定MySQL的登录密码为 my-secret-pw\n\n-v ~/.halo/mysql:/var/lib/mysql 命令: 将宿主机的目录 ~/.halo/mysql 挂载到容器内部的目录 /var/lib/mysql，默认情况下 MySQL 将向 ~/.halo/mysql 写入其数据文件。\n\n--net halo-net: 将该容器加入到 halo-net 网络,连接到 halo-net 网络的任何其他容器都可以访问 some-mysql容器上的所有端口。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[a._v("5、进入 MySQL 容器中登录 MySQL 并创建 Halo 需要的数据库")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("(1) some-mysql 为 MySQL 实例的容器名称")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" some-mysql /bin/bash\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("(2) 登录 MySQL")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("(3) 输入 MySQL 数据库密码")])]),a._v(" "),s("li",[s("p",[a._v("(4) 创建数据库")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("create database halodb character "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" utf8mb4 collate utf8mb4_bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("(5) 使用 "),s("code",[a._v("exit")]),a._v("退出"),s("code",[a._v("MySQL")]),a._v(" 并退出容器")])])]),a._v(" "),s("p",[a._v("5、创建 "),s("code",[a._v("Halo")]),a._v(" 工作目录")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/.halo "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.halo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("6、下载示例配置文件到"),s("a",{attrs:{href:"https://docs.halo.run/getting-started/prepare#%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("工作目录"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://dl.halo.run/config/application-template.yaml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" ./application.yaml\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("7、编辑配置文件，配置数据库，其他配置请参考"),s("a",{attrs:{href:"https://docs.halo.run/getting-started/config",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考配置"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" application.yaml\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("你需要做如下几个步骤：")]),a._v(" "),s("ul",[s("li",[a._v("注释 H2 database configuration.部分")]),a._v(" "),s("li",[a._v("启用 MySQL database configuration.部分")]),a._v(" "),s("li",[a._v("修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 "),s("code",[a._v("MySQL")]),a._v(" 密码")])]),a._v(" "),s("p",[a._v("修改后的内容如下:")]),a._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver-class-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" com.mysql.cj.jdbc.Driver\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//some"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("3306/halodb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("?")]),a._v("characterEncoding=utf8"),s("span",{pre:!0,attrs:{class:"token important"}},[a._v("&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("secret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("pw\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("8、创建 Halo 容器实例")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v(":8090 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/.halo:/root/.halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),a._v(" halo-net "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped halohub/halo:1.5.2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("9、打开 "),s("code",[a._v("http://ip:端口号")]),a._v(" 即可看到安装引导界面。")]),a._v(" "),s("h3",{attrs:{id:"_2、mysql-部署在-docker-如何使用-docker-安装-halo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、mysql-部署在-docker-如何使用-docker-安装-halo"}},[a._v("#")]),a._v(" 2、MySQL 部署在 Docker 如何使用 Docker 安装 Halo")]),a._v(" "),s("p",[a._v("如果您已有 "),s("code",[a._v("Docker")]),a._v(" 部署的 "),s("code",[a._v("MySQL")]),a._v(" 实例，那么为了保证 "),s("code",[a._v("Halo")]),a._v(" 和 "),s("code",[a._v("MySQL")]),a._v(" 两个容器的网络可以互通，和上文同样的思路可以创建一个网络让 "),s("code",[a._v("MySQL")]),a._v(" 和 "),s("code",[a._v("Halo")]),a._v(" 都加入进来。")]),a._v(" "),s("ol",[s("li",[a._v("使用 "),s("code",[a._v("docker ps")]),a._v(" 来查看的你 "),s("code",[a._v("MySQL")]),a._v(" 容器实例的名称或 "),s("code",[a._v("container id")]),a._v("， 例如 "),s("code",[a._v("some-mysql")])]),a._v(" "),s("li",[a._v("创建一个桥接网络，让 "),s("code",[a._v("MySQL")]),a._v(" 加入，首先使用 "),s("code",[a._v("docker network ls")]),a._v(" 来查看一下都有哪些网络名称，起一个不会冲突的网络名称，例如 "),s("code",[a._v("halo-net")]),a._v("，其次让已经存在的 MySQL 容器实例加入到该网络中")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" network connect halo-net some-mysql\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("1、同之前一样创建 "),s("code",[a._v("Halo")]),a._v(" 工作目录")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/.halo "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.halo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("复制")]),a._v(" "),s("p",[a._v("2、下载示例配置文件到"),s("a",{attrs:{href:"https://docs.halo.run/getting-started/prepare#%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[a._v("工作目录"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://dl.halo.run/config/application-template.yaml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" ./application.yaml\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("3、编辑配置文件，修改 "),s("code",[a._v("MySQL")]),a._v(" 的数据库连接和密码")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" application.yaml\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("复制")]),a._v(" "),s("p",[a._v("你需要做如下几个步骤：")]),a._v(" "),s("ul",[s("li",[a._v("注释 H2 database configuration.部分")]),a._v(" "),s("li",[a._v("启用 MySQL database configuration.部分")]),a._v(" "),s("li",[a._v("修改 datasource 下的 url 中的 ip 地址部分为容器名称并修改密码为您设定的 "),s("code",[a._v("MySQL")]),a._v(" 密码")])]),a._v(" "),s("p",[a._v("修改后的内容如下:")]),a._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver-class-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" com.mysql.cj.jdbc.Driver\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//some"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("3306/halodb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("?")]),a._v("characterEncoding=utf8"),s("span",{pre:!0,attrs:{class:"token important"}},[a._v("&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("secret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("pw\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("复制")]),a._v(" "),s("ol",[s("li",[a._v("创建 "),s("code",[a._v("Halo")]),a._v(" 容器实例,并使用 "),s("code",[a._v("--net")]),a._v(" 指定网络为刚才创建的"),s("code",[a._v("halo-net")])])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v(":8090 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/.halo:/root/.halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),a._v(" halo-net "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped halohub/halo:1.5.2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("复制")]),a._v(" "),s("h3",{attrs:{id:"_3、mysql-在宿主机如何通过-docker-安装-halo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、mysql-在宿主机如何通过-docker-安装-halo"}},[a._v("#")]),a._v(" 3、MySQL 在宿主机如何通过 Docker 安装 Halo")]),a._v(" "),s("p",[a._v("如果你已有 "),s("code",[a._v("MySQL")]),a._v(" 但安装在宿主机，你想使用 "),s("code",[a._v("Docker")]),a._v(" 安装 "),s("code",[a._v("Halo")]),a._v(" 那么此时为了保证 "),s("code",[a._v("MySQL")]),a._v(" 和 "),s("code",[a._v("Halo")]),a._v(" 能网络互通，可以使用 "),s("code",[a._v("host")]),a._v(" 网络模式即 "),s("code",[a._v("--net host")]),a._v("。")]),a._v(" "),s("ol",[s("li",[a._v("创建 "),s("code",[a._v("Halo")]),a._v(" 的工作目录")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/.halo "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.halo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",[s("li",[a._v("拉取配置")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://dl.halo.run/config/application-template.yaml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" ./application.yaml\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("复制")]),a._v(" "),s("ol",[s("li",[a._v("使用 "),s("code",[a._v("Docker")]),a._v(" 启动 "),s("code",[a._v("Halo")]),a._v(" 实例并指定网络模式为 "),s("code",[a._v("host")])])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v(":8090 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/.halo:/root/.halo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped halohub/halo:1.5.2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"halo博客系-next主题相关设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#halo博客系-next主题相关设置"}},[a._v("#")]),a._v(" Halo博客系———Next主题相关设置")]),a._v(" "),s("h3",{attrs:{id:"_1、网站站点图标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、网站站点图标"}},[a._v("#")]),a._v(" 1、网站站点图标")]),a._v(" "),s("p",[a._v("外观--主题设置--基本设置-- Favicon（中）选择图片或者上传图片")]),a._v(" "),s("h3",{attrs:{id:"_2、后端控制台站点图标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、后端控制台站点图标"}},[a._v("#")]),a._v(" 2、后端控制台站点图标")]),a._v(" "),s("p",[a._v("系统--博客设置-常规设置-- Favicon（选择图片或者上传图片）")]),a._v(" "),s("p",[a._v("————————这个设置可以直接覆盖网站站点图标。")]),a._v(" "),s("h3",{attrs:{id:"_3、关闭评论"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、关闭评论"}},[a._v("#")]),a._v(" 3、关闭评论")]),a._v(" "),s("p",[a._v("系统--博客设置--评论设置--评论模块js：（ 把代码注释掉 ##//cdn.jsdelivr.net/npm/halo-comment@latest/dist/halo-comment.min.js）")]),a._v(" "),s("h3",{attrs:{id:"_4、备案信息添加"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、备案信息添加"}},[a._v("#")]),a._v(" 4、备案信息添加")]),a._v(" "),s("p",[a._v("系统--博客设置-常规设置-- 页脚信息（添加a标签）")]),a._v(" "),s("p",[s("code",[a._v('<a href="https://beian.miit.gov.cn/">鄂ICP备2022006409号</a>')])]),a._v(" "),s("h3",{attrs:{id:"_5、侧栏图片展示-或者个人微信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、侧栏图片展示-或者个人微信"}},[a._v("#")]),a._v(" 5、侧栏图片展示（或者个人微信）")]),a._v(" "),s("p",[a._v("用户---个人资料---（链接上面个人图片上传）")]),a._v(" "),s("p",[a._v('style="padding-bottom: 0px;"\n'),s("code",[a._v('<a href="http://beian.miit.gov.cn/" target="_blank“>鄂ICP备2022006409号</a>')])]),a._v(" "),s("h3",{attrs:{id:"_6、侧栏rss下面社交设置-github-email-twitter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、侧栏rss下面社交设置-github-email-twitter"}},[a._v("#")]),a._v(" 6、侧栏RSS下面社交设置(GitHub /email/Twitter)")]),a._v(" "),s("p",[a._v("外观---主题设置--社交设置--下面对应的社交贴上网址就行")]),a._v(" "),s("h3",{attrs:{id:"_7、社交图标显示具体的名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、社交图标显示具体的名称"}},[a._v("#")]),a._v(" 7、社交图标显示具体的名称")]),a._v(" "),s("p",[a._v("外观---主题设置--社交设置--侧边栏社交只显示图标：（关闭）")]),a._v(" "),s("h3",{attrs:{id:"_8、网站页面特效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、网站页面特效"}},[a._v("#")]),a._v(" 8、网站页面特效")]),a._v(" "),s("p",[a._v("外观---主题设置--其他设置")]),a._v(" "),s("p",[a._v("Ribbon 特效：开启页面条纹，点击页面就会切换。")]),a._v(" "),s("p",[a._v("Canvas nest特效：很多小三角汇聚在鼠标位置")]),a._v(" "),s("p",[a._v("Three waves特效：许多小球拍成队列形成页面波浪")]),a._v(" "),s("p",[a._v("Canvas lines：原子系列在页面随鼠标移动")]),a._v(" "),s("p",[a._v("Canvas sphere：一个圆球表面布满了针，只能看到一部分")]),a._v(" "),s("p",[a._v("Motion enable：关闭，侧栏会透明看不见。")]),a._v(" "),s("p",[a._v("Motion async：啥特效都没看到")])])}),[],!1,null,null,null);s.default=r.exports}}]);